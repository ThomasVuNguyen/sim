# Sim - Self Hosted AI Workflow Platform

Build and deploy AI agent workflows in minutes.

## Quick Start (1 Command)

### Run Sim instantly with NPX

```bash
npx simstudio
```

That's it! Sim will:
- ✅ Auto-generate secure secrets
- ✅ Start PostgreSQL database
- ✅ Run migrations
- ✅ Launch the app at `http://localhost:2222`
- ✅ Open your browser

**No configuration needed. Single-user mode by default.**

### Or install globally

```bash
npm install -g simstudio
simstudio
```

### Managing Sim

```bash
simstudio stop              # Stop all containers
simstudio status            # Show status
simstudio logs -f           # View logs
simstudio upgrade           # Upgrade to latest
simstudio reset --yes       # Delete all data
```

See [CLI documentation](packages/cli/README.md) for more commands.

---

## Alternative: Docker Compose (Production)

For production deployments with custom configuration:

```bash
git clone https://github.com/simstudioai/sim.git
cd sim
docker compose -f docker-compose.prod.yml up -d
```

App: `http://localhost:2222`

### Environment Variables

Create a `.env` file or set environment variables:

```env
# Required (auto-generated by CLI)
BETTER_AUTH_SECRET=your_secret        # Generate: openssl rand -hex 32
ENCRYPTION_KEY=your_key               # Generate: openssl rand -hex 32

# URLs
NEXT_PUBLIC_APP_URL=http://localhost:2222
BETTER_AUTH_URL=http://localhost:2222
NEXT_PUBLIC_SOCKET_URL=http://localhost:3002

# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/simstudio

# Optional - Single-user mode (no auth)
DISABLE_AUTH=true

# Optional - Local AI models
OLLAMA_URL=http://localhost:11434
VLLM_BASE_URL=http://localhost:8000
```

See [apps/sim/.env.example](apps/sim/.env.example) for all options.

---

## Requirements

### For NPX/CLI (Recommended)

- [Docker Desktop](https://www.docker.com/products/docker-desktop)
- Node.js 16+ (to run the CLI)

### For Development

- [Bun](https://bun.sh/) runtime
- Node.js v20+
- PostgreSQL 12+ with [pgvector extension](https://github.com/pgvector/pgvector)
- Docker (optional, but recommended)

---

## Development Setup

### Quick Dev Start

```bash
git clone https://github.com/simstudioai/sim.git
cd sim
bun install
bun run dev:full
```

App: `http://localhost:2222`

### First-time Setup

1. **Set up environment**

```bash
cd apps/sim
cp .env.example .env
```

2. **Configure required variables**

```env
NEXT_PUBLIC_APP_URL=http://localhost:2222
BETTER_AUTH_URL=http://localhost:2222
NEXT_PUBLIC_SOCKET_URL=http://localhost:3002
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/simstudio
BETTER_AUTH_SECRET=$(openssl rand -hex 32)
ENCRYPTION_KEY=$(openssl rand -hex 32)
```

3. **Start PostgreSQL** (if not using system Postgres)

```bash
docker run --name simstudio-db \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=simstudio \
  -p 5432:5432 -d \
  pgvector/pgvector:pg17
```

4. **Run migrations**

```bash
cd ../../apps/sim
bunx drizzle-kit migrate --config=./drizzle.config.ts
```

5. **Start development servers**

```bash
cd ../.. # back to project root
bun run dev:full
```

This starts both the Next.js app and the Socket.IO realtime server.

### Dev Scripts

```bash
bun run dev              # Next.js app only
bun run dev:sockets      # Socket server only
bun run dev:full         # Both (recommended)
bun run dev:single-user  # Single-user mode (no auth)
```

---

## Local AI Models

### Ollama (Docker Compose)

```bash
# GPU
docker compose -f docker-compose.ollama.yml --profile setup up -d

# CPU only
docker compose -f docker-compose.ollama.yml --profile cpu --profile setup up -d

# Add more models
docker compose -f docker-compose.ollama.yml exec ollama ollama pull llama3.1:8b
```

### External Ollama

If Sim runs in Docker but Ollama runs on your host:

```env
OLLAMA_URL=http://host.docker.internal:11434
```

### vLLM (OpenAI-compatible)

```env
VLLM_BASE_URL=http://your-vllm-server:8000
VLLM_API_KEY=your_optional_api_key
```

---

## Troubleshooting

### Docker not running

```
❌ Docker is not running or not installed.
```

**Solution:** Start Docker Desktop and run `simstudio` again.

### Port already in use

```bash
# Use different port
simstudio start -p 3000
```

### Database connection issues

- Ensure `pgvector` extension is installed: `CREATE EXTENSION vector;`
- If using Docker Postgres, wait for it to be healthy before running migrations

### Reset everything

```bash
simstudio reset --yes
simstudio start
```

---

## Features

### Visual Workflow Builder
- Drag-and-drop canvas with 28+ block types
- Real-time collaboration
- Auto-layout and organization

### AI-Powered
- Multiple LLM providers (OpenAI, Anthropic, Gemini, etc.)
- Self-hosted models (Ollama, vLLM)
- Knowledge bases with RAG
- Copilot assistant

### Enterprise Ready
- Webhook triggers and scheduling
- REST API + TypeScript/Python SDKs
- Execution logs and monitoring
- Multi-tenancy support

---

## What's Inside

This is a monorepo with the following packages/apps:

- `apps/sim`: Main Next.js application
- `apps/docs`: Documentation site
- `packages/cli`: NPX CLI for one-command setup
- `packages/db`: Database schema (Drizzle ORM)
- `packages/ts-sdk`: TypeScript SDK
- `packages/python-sdk`: Python SDK (external)

---

## Learn More

- [CLI Documentation](packages/cli/README.md)
- [TypeScript SDK](packages/ts-sdk/README.md)
- [Environment Variables](apps/sim/.env.example)
- [Official Website](https://sim.ai)

---

## Contributing

Contributions welcome! Please open an issue or submit a pull request.

## License

Apache-2.0
